<div id="maLP" class="p-select p-component p-inputwrapper p-inputwrapper-filled" data-p="" data-pc-name="dropdown" pc315="" data-pc-section="root"><span class="p-select-label" tabindex="0" role="combobox" aria-label="Äá»•i vÃ©" aria-haspopup="listbox" aria-expanded="false" aria-controls="maLP_list" aria-disabled="false" data-p="" data-pc-section="label">Äá»•i vÃ©</span><!----><div class="p-select-dropdown" data-pc-section="dropdown"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon p-select-dropdown-icon" aria-hidden="true" data-p="" data-pc-section="dropdownicon"><path d="M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z" fill="currentColor"></path></svg></div><!--teleport start--><!--teleport end--></div>



-----------------------------------------------------------------------------------






<div id="maLP" class="p-select p-component p-inputwrapper p-inputwrapper-filled" data-p="" data-pc-name="dropdown" pc315="" data-pc-section="root"><span class="p-select-label" tabindex="0" role="combobox" aria-label="Tráº£ thÆ°á»ng" aria-haspopup="listbox" aria-expanded="false" aria-controls="maLP_list" aria-disabled="false" data-p="" data-pc-section="label">Tráº£ thÆ°á»ng</span><!----><div class="p-select-dropdown" data-pc-section="dropdown"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon p-select-dropdown-icon" aria-hidden="true" data-p="" data-pc-section="dropdownicon"><path d="M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z" fill="currentColor"></path></svg></div><!--teleport start--><!--teleport end--></div>



2 html nÃ y khÃ¡c nhau á»Ÿ Ä‘Ã¢u

Hai Ä‘oáº¡n HTML nÃ y gáº§n nhÆ° giá»‘ng há»‡t nhau, khÃ¡c nhau chá»‰ á»Ÿ ná»™i dung text vÃ  aria-label thÃ´i. MÃ¬nh chá»‰ ra chÃ­nh xÃ¡c tá»«ng Ä‘iá»ƒm khÃ¡c nhÃ© ğŸ‘‡

âœ… Äiá»ƒm KHÃC nhau
1ï¸âƒ£ Text hiá»ƒn thá»‹ trong dropdown
<span class="p-select-label">Äá»•i vÃ©</span>


vs

<span class="p-select-label">Tráº£ thÆ°á»ng</span>


ğŸ‘‰ GiÃ¡ trá»‹ Ä‘Æ°á»£c chá»n khÃ¡c nhau

CÃ¡i 1: Äá»•i vÃ©

CÃ¡i 2: Tráº£ thÆ°á»ng

2ï¸âƒ£ aria-label
aria-label="Äá»•i vÃ©"


vs

aria-label="Tráº£ thÆ°á»ng"


ğŸ‘‰ Phá»¥c vá»¥ accessibility / automation test

Screen reader

Tool test (Playwright, Selenium cÃ³ thá»ƒ dÃ¹ng)

âŒ Nhá»¯ng thá»© KHÃ”NG khÃ¡c

CÃ¡c pháº§n sau 100% giá»‘ng nhau:

id="maLP" âš ï¸ (cÃ¡i nÃ y cÃ²n lÃ  váº¥n Ä‘á», nÃ³i dÆ°á»›i)

class

structure DOM

svg icon

aria-expanded

aria-controls

data-p*, data-pc*

âš ï¸ Váº¥n Ä‘á» nghiÃªm trá»ng (ráº¥t quan trá»ng cho tester & dev)
âŒ TrÃ¹ng id="maLP"

HTML chuáº©n: id pháº£i lÃ  duy nháº¥t

á» Ä‘Ã¢y:

<div id="maLP" ...>


ğŸ‘‰ Náº¿u cÃ¹ng tá»“n táº¡i trÃªn 1 page:

document.getElementById("maLP") â†’ chá»‰ láº¥y cÃ¡i Ä‘áº§u

Automation test dá»… click nháº§m

Bug khÃ³ debug

ğŸ¯ Káº¿t luáº­n ngáº¯n gá»n
TiÃªu chÃ­	KhÃ¡c
Text hiá»ƒn thá»‹	âœ…
aria-label	âœ…
Cáº¥u trÃºc DOM	âŒ
Class	âŒ
ID	âŒ (nhÆ°ng Ä‘Ã¢y lÃ  lá»—i thiáº¿t káº¿)
ğŸ§ª Gá»£i Ã½ cho tool há»— trá»£ test UI (liÃªn quan idea báº¡n há»i lÃºc nÃ£y)

Tá»« case nÃ y, tool cá»§a báº¡n cÃ³ thá»ƒ:

âœ… Detect:

Component khÃ¡c state/value nhÆ°ng DOM y chang

TrÃ¹ng ID

Text thay Ä‘á»•i nhÆ°ng selector khÃ´ng Ä‘á»•i

âœ… Sinh test case:

â€œVerify dropdown maLP hiá»ƒn thá»‹ Ä‘Ãºng giÃ¡ trá»‹ theo loáº¡i vÃ©â€

Náº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ:

Viáº¿t Playwright selector chuáº©n cho dropdown PrimeVue nÃ y

Hoáº·c giÃºp báº¡n thiáº¿t káº¿ rule detect DOM diff cho tool test UI báº¡n Ä‘ang áº¥p á»§ ğŸ‘€

tÃ´i Ä‘ang dÃ¹ng primvue 
Ä‘Ã¢y lÃ  html Ä‘Æ°á»£c build ra 
sao láº¡i k cÃ³ value cá»§a item dropdow

CÃ¢u nÃ y Ä‘Ãºng â€œtrÃºng tim Ä‘enâ€ cá»§a PrimeVue luÃ´n ğŸ˜„
Ngáº¯n gá»n trÆ°á»›c, rá»“i mÃ¬nh giáº£i thÃ­ch sÃ¢u nhÃ©.

TL;DR

ğŸ‘‰ PrimeVue Dropdown KHÃ”NG render value cá»§a option ra HTML
NÃ³ chá»‰ render label Ä‘ang Ä‘Æ°á»£c chá»n + state ná»™i bá»™ trong JS.

ÄÃ³ lÃ  thiáº¿t káº¿ cÃ³ chá»§ Ã½, khÃ´ng pháº£i bug.

VÃ¬ sao trong HTML khÃ´ng cÃ³ value? ğŸ¤”

PrimeVue (vÃ  nhiá»u UI lib hiá»‡n Ä‘áº¡i) hoáº¡t Ä‘á»™ng nhÆ° sau:

1ï¸âƒ£ value tá»“n táº¡i trong Vue state, khÃ´ng pháº£i DOM

VÃ­ dá»¥ code:

<Dropdown
  v-model="maLP"
  :options="loaiPhieu"
  optionLabel="ten"
  optionValue="ma"
/>


maLP (vÃ­ dá»¥: "DOI_VE")
ğŸ‘‰ chá»‰ náº±m trong JS memory

DOM chá»‰ hiá»ƒn thá»‹:

<span class="p-select-label">Äá»•i vÃ©</span>


ğŸ‘‰ HTML chá»‰ pháº£n Ã¡nh UI, khÃ´ng pháº£n Ã¡nh data model

2ï¸âƒ£ Dropdown cá»§a PrimeVue lÃ  custom component

NÃ³ khÃ´ng pháº£i:

<select>
  <option value="A">...</option>
</select>


MÃ  lÃ :

div + span

listbox render báº±ng teleport khi má»Ÿ dropdown

Option tá»“n táº¡i táº¡m thá»i, khÃ´ng gáº¯n value cá»‘ Ä‘á»‹nh

Váº­y value tháº­t náº±m á»Ÿ Ä‘Ã¢u? ğŸ§ 
ğŸ“ 1. Trong Vue reactive state
maLP.value === 'DOI_VE'

ğŸ“ 2. Khi má»Ÿ dropdown (teleport)

LÃºc má»Ÿ, báº¡n sáº½ tháº¥y:

<li role="option" data-p-value="DOI_VE">Äá»•i vÃ©</li>


ğŸ‘‰ data-p-value chá»‰ tá»“n táº¡i khi dropdown má»Ÿ

Táº¡i sao PrimeVue lÃ m váº­y? (lÃ½ do ká»¹ thuáº­t)

âœ… Performance tá»‘t hÆ¡n
âœ… KhÃ´ng expose business value ra DOM (security nháº¹)
âœ… Há»— trá»£ object phá»©c táº¡p lÃ m value
âœ… Dá»… virtual scroll, filter, lazy load

Tester / Automation test pháº£i lÃ m sao? ğŸ§ª
âŒ KHÃ”NG nÃªn
expect(element.value).toBe(...)


(vÃ¬ khÃ´ng cÃ³)

âœ… CÃ¡ch ÄÃšNG (Playwright / Selenium)
1ï¸âƒ£ Test theo label
await expect(page.locator('#maLP .p-select-label'))
  .toHaveText('Äá»•i vÃ©');

2ï¸âƒ£ Test theo aria-label
await expect(page.locator('#maLP [role="combobox"]'))
  .toHaveAttribute('aria-label', 'Äá»•i vÃ©');

3ï¸âƒ£ Má»Ÿ dropdown â†’ láº¥y data-p-value
await page.click('#maLP');
await page.click('li[data-p-value="DOI_VE"]');

Náº¿u báº¡n MUá»N cÃ³ value trong DOM (chá»§ Ä‘á»™ng thiáº¿t káº¿)
CÃ¡ch 1ï¸âƒ£ Gáº¯n custom attribute
<Dropdown
  v-model="maLP"
  :options="loaiPhieu"
  data-testid="dropdown-maLP"
/>


Hoáº·c:

<div :data-value="maLP">
  <Dropdown ... />
</div>

CÃ¡ch 2ï¸âƒ£ DÃ nh riÃªng cho test (best practice)
<Dropdown
  v-model="maLP"
  :options="loaiPhieu"
  optionLabel="ten"
  optionValue="ma"
  :pt="{
    root: { 'data-testid': 'maLP' }
  }"
/>

ğŸ”¥ Insight cho dá»± Ã¡n tool test UI cá»§a báº¡n

Tá»« case nÃ y, tool cÃ³ thá»ƒ:

Detect component controlled by JS state

Cáº£nh bÃ¡o: â€œKhÃ´ng nÃªn assert báº±ng DOM valueâ€

Gá»£i Ã½ selector:

aria-label

role

data-testid

ğŸ‘‰ CÃ¡i nÃ y tester ráº¥t hay bá»‹ sai